{"version":3,"sources":["../../../source/javascript/enhance/portal/ActivableRenderer.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;;;AAEA,IAAM,oBAAoB,SAApB,iBAAoB;KAAC,gEAAU,EAAC,OAAO,CAAP;QAAc,UAAC,kBAAD,EAAwB;;;AAC3E;aAAa;;;;;;;;;;;;;+MAWZ,QAAQ;AACP,gBAAW,MAAK,KAAL,CAAW,SAAX;AACX,eAAU,MAAK,KAAL,CAAW,SAAX;;;;gBAbC;;8CAgBe,WAAW;AACrC,SAAI,UAAU,SAAV,IAAuB,CAAC,KAAK,KAAL,CAAW,SAAX,EAAsB,KAAK,iBAAL,GAAlD;AACA,SAAI,CAAC,UAAU,SAAV,IAAuB,KAAK,KAAL,CAAW,SAAX,EAAsB,KAAK,qBAAL,GAAlD;;;;wCAGoB;;;AACpB,SAAI,KAAK,eAAL,EAAsB,aAAa,KAAK,eAAL,CAAb,CAA1B;AACA,UAAK,QAAL,CAAc,EAAE,UAAU,IAAV,EAAgB,WAAW,KAAX,EAAhC,EAAoD,YAAM;AACzD,iBAAW;cAAM,OAAK,QAAL,CAAc,EAAE,WAAW,IAAX,EAAhB;OAAN,EAA0C,EAArD,EADyD;MAAN,CAApD,CAFoB;;;;4CAOI;;;AACxB,UAAK,QAAL,CAAc,EAAE,UAAU,IAAV,EAAgB,WAAW,KAAX,EAAhC,EAAoD,YAAM;AACzD,aAAK,eAAL,GAAuB,WAAW,YAAM;AACvC,cAAK,QAAL,CAAc,EAAE,UAAU,KAAV,EAAhB,EADuC;AAEvC,cAAK,eAAL,GAAuB,IAAvB,CAFuC;OAAN,EAG/B,OAAK,KAAL,CAAW,KAAX,CAHH,CADyD;MAAN,CAApD,CADwB;;;;6BASf;SACE,kCAAW,KAAK,KAAL,MADb;;kBAEuB,KAAK,KAAL,CAFvB;SAED,6BAFC;SAEU,2BAFV;;AAGT,YAAO,WAAW,8BAAC,kBAAD,eAAwB,UAAQ,WAAW,SAAX,GAAhC,CAAX,GACP,IADO,CAHE;;;;UArCE;8BACL,YAAY;AAClB,cAAW,iBAAU,IAAV,CAAe,UAAf;AACX,aAAU,iBAAU,GAAV;AACV,UAAO,iBAAU,MAAV;YAGD,eAAe;AACrB,UAAO,QAAQ,KAAR;WART,CAD2E;EAAxB;CAA1B;;kBA8CX","file":"ActivableRenderer.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\n\nconst ActivableRenderer = (options = {delay: 0}) => (ActivableComponent) => {\n\treturn class ActivableRenderer extends Component {\n\t\tstatic propTypes = {\n\t\t\tactivated: PropTypes.bool.isRequired,\n\t\t\tchildren: PropTypes.any,\n\t\t\tdelay: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdelay: options.delay\n\t\t}\n\n\t\tstate = {\n\t\t\tactivated: this.props.activated,\n\t\t\trendered: this.props.activated\n\t\t};\n\n\t\tcomponentWillReceiveProps (nextProps) {\n\t\t\tif (nextProps.activated && !this.props.activated) this.renderAndActivate();\n\t\t\tif (!nextProps.activated && this.props.activated) this.deactivateAndUnrender();\n\t\t}\n\n\t\trenderAndActivate () {\n\t\t\tif (this.unrenderTimeout) clearTimeout(this.unrenderTimeout);\n\t\t\tthis.setState({ rendered: true, activated: false }, () => {\n\t\t\t\tsetTimeout(() => this.setState({ activated: true }), 20);\n\t\t\t});\n\t\t}\n\n\t\tdeactivateAndUnrender () {\n\t\t\tthis.setState({ rendered: true, activated: false }, () => {\n\t\t\t\tthis.unrenderTimeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ rendered: false });\n\t\t\t\t\tthis.unrenderTimeout = null;\n\t\t\t\t}, this.props.delay);\n\t\t\t});\n\t\t}\n\n\t\trender () {\n\t\t\tconst { ...others } = this.props;\n\t\t\tconst { activated, rendered } = this.state;\n\t\t\treturn rendered ? <ActivableComponent {...others} activated={activated} /> :\n\t\t\tnull;}\n\t\t};\n};\n\nexport default ActivableRenderer;"]}