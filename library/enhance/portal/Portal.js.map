{"version":3,"sources":["../../../source/javascript/enhance/portal/Portal.js"],"names":[],"mappings":"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","file":"Portal.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport ReactDOM, { findDOMNode } from 'react-dom';\n\nclass Portal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._renderOverlay();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this._overlayTarget && nextProps.container !== this.props.container) {\n\t\t\tthis._portalContainerNode.removeChild(this._overlayTarget);\n\t\t\tthis.__portalContainerNode = getContainer(nextProps.container);\n\t\t\tthis.__portalContainerNode.appendChild(this._overlayTarget);\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis._renderOverlay();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._unrenderOverlay();\n\t\tthis._unmountOverlayTarget();\n\t}\n\n\t_mountOverlayTarget () {\n\t\tif (!this._overlayTarget) {\n\t\t\tthis._overlayTarget = document.createElement('div');\n\t\t\tthis._overlayTarget.className = 'portal';\n\t\t\tthis.__portalContainerNode = getContainer(this.props.container);\n\t\t\tthis.__portalContainerNode.appendChild(this._overlayTarget);\n\t\t}\n\t}\n\n\t_unmountOverlayTarget () {\n\t\tif (this._overlayTarget) {\n\t\t\tthis.__portalContainerNode.removeChild(this._overlayTarget);\n\t\t\tthis._overlayTarget = null;\n\t\t}\n\t\tthis.__portalContainerNode = null;\n\t}\n\n\t_renderOverlay () {\n\t\tconst overlay = !this.props.children ? null : React.Children.only(this.props.children);\n\t\tif (overlay !== null) {\n\t\t\tif (this.props.lockBody) document.body.style.overflowY = 'hidden';\n\t\t\tthis._mountOverlayTarget();\n\t\t\tthis._overlayInstance = ReactDOM.unstable_renderSubtreeIntoContainer(\n\t\t\t\tthis, overlay, this._overlayTarget\n\t\t\t);\n\t\t} else {\n\t\t\tthis._unrenderOverlay();\n\t\t\tthis._unmountOverlayTarget();\n\t\t}\n\t}\n\n\t_unrenderOverlay () {\n\t\tif (this._overlayTarget) {\n\t\t\tif (this.props.lockBody) document.body.style.overflowY = 'scroll';\n\t\t\tReactDOM.unmountComponentAtNode(this._overlayTarget);\n\t\t\tthis._overlayInstance = null;\n\t\t}\n\t}\n\n\tgetMountNode () {\n\t\treturn this._overlayTarget;\n\t}\n\n\tgetOverlayDOMNode () {\n\t\tif (this._overlayInstance) {\n\t\t\tif (this._overlayInstance.getWrappedDOMNode) {\n\t\t\t\treturn this._overlayInstance.getWrappedDOMNode();\n\t\t\t} else {\n\t\t\t\treturn findDOMNode(this._overlayInstance);\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n\n};\n\nPortal.propTypes = {\n\tlockBody: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tchildren: PropTypes.node,\n\tcontainer: PropTypes.any,\n};\n\nPortal.defaultProps = {\n\tlockBody: true\n};\n\nfunction getContainer (container) {\n  const _container = typeof container === 'function' ? container() : container;\n  return findDOMNode(_container) || document.body;\n}\n\nexport default Portal;"]}