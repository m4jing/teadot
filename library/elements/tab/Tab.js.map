{"version":3,"sources":["../../../source/javascript/elements/tab/Tab.js"],"names":[],"mappings":"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","file":"Tab.js","sourcesContent":["import React, {PropTypes, cloneElement} from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { SKINS } from '../../constant/props';\nimport KlassName from 'teapan/klassName';\n\nimport Icon from '../icon/Icon';\nimport Button from '../button/Button';\n\nimport TabBar from './TabBar';\nimport TabBarItem from './TabBarItem';\nimport TabPane from './TabPane';\nimport TabPaneItem from './TabPaneItem';\n\nclass Tab extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdefaultSelected: this.getDefaultSelected(props),\n\t\t\tfocused: props.focused\n\t\t};\n\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleKeyDown = this.handleKeyDown.bind(this);\n\t\tthis.handlePrevClick = this.handlePrevClick.bind(this);\n\t\tthis.handleNextClick = this.handleNextClick.bind(this);\n\t}\n\n\tgetChildContext() {\n\t\treturn {\n\t\t\tforceRenderPaneItem: this.props.forceRenderPaneItem\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(newProps) {\n\t\tthis.setState(this.getDefaultSelected(newProps));\n\t}\n\n\tisBarItemNode(node) {\n\t\treturn node.nodeName === 'LI' && node.getAttribute('role') === 'baritem' && node.parentElement.parentElement === (0, findDOMNode)(this);\n\t}\n\n\tisBarItemDisabled(node) {\n\t\treturn node.getAttribute('aria-disabled') === 'true';\n\t}\n\n\tisControlItemNode(node) {\n\t\treturn node.getAttribute('role') === 'tabcontrol';\n\t}\n\n\thandleClick(event) {\n\t\tlet node = event.target;\n\t\tdo {\n\t\t\tif (this.isBarItemNode(node)) {\n\t\t\t\tif (this.isBarItemDisabled(node)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst index = [].slice.call(node.parentNode.children).indexOf(node);\n\t\t\t\tthis.setSelected(index);\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while ((node = node.parentNode) !== null);\n\t}\n\n\thandleKeyDown(event) {\n\t\tif (this.isBarItemNode(event.target)) {\n\t\t\tlet index = this.state.defaultSelected;\n\t\t\tlet preventDefault = false;\n\t\t\tif (event.keyCode === 37 || event.keyCode === 38) {\n\t\t\t\tindex = this.getPrevBarItem(index);\n\t\t\t\tpreventDefault = true;\n\t\t\t}else if (event.keyCode === 39 || event.keyCode === 40) {\n\t\t\t\tindex = this.getNextBarItem(index);\n\t\t\t\tpreventDefault = true;\n\t\t\t}\n\t\t\tif (preventDefault) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.setSelected(index, true);\n\t\t}\n\t}\n\n\thandlePrevClick(event) {\n\t\tif (this.isControlItemNode(event.target)){\n\t\t\tlet index = this.getPrevBarItem(this.state.defaultSelected);\n\t\t\tevent.preventDefault();\n\t\t\tthis.setSelected(index);\n\t\t}\n\t}\n\n\thandleNextClick(event) {\n\t\tif (this.isControlItemNode(event.target)){\n\t\t\tlet index = this.getNextBarItem(this.state.defaultSelected);\n\t\t\tevent.preventDefault();\n\t\t\tthis.setSelected(index);\n\t\t}\n\t}\n\n\n\tsetSelected(index, focused) {\n\t\tif (index === this.state.defaultSelected) return;\n\t\tif (index < 0 || index >= this.getBarItemsCount()) return;\n\t\tconst last = this.state.defaultSelected;\n\t\tthis.setState({ defaultSelected: index, focused: focused === true });\n\t\tif (typeof this.props.onSelect === 'function') {\n\t\t\tthis.props.onSelect(index, last);\n\t\t}\n\t}\n\n\tgetDefaultSelected(props) {\n\t\tlet defaultSelected = props.defaultSelected;\n\t\tif (defaultSelected === -1) {\n\t\t\tif (this.state && this.state.defaultSelected) {\n\t\t\t\tdefaultSelected = this.state.defaultSelected;\n\t\t\t} else {\n\t\t\t\tdefaultSelected = 0;\n\t\t\t}\n\t\t}\n\t\treturn defaultSelected;\n\t}\n\n\tgetNextBarItem(index) {\n\t\tconst count = this.getBarItemsCount();\n\t\tfor (let i = index + 1; i < count; i++) {\n\t\t\tconst baritem = this.getBarItem(i);\n\t\t\tif (!this.isBarItemDisabled(findDOMNode(baritem))) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < index; i++) {\n\t\t\tconst baritem = this.getBarItem(i);\n\t\t\tif (!this.isBarItemDisabled(findDOMNode(baritem))) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tgetPrevBarItem(index) {\n\t\tlet i = index;\n\t\twhile (i--) {\n\t\t\tconst baritem = this.getBarItem(i);\n\t\t\tif (!this.isBarItemDisabled(findDOMNode(baritem))) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\ti = this.getBarItemsCount();\n\t\twhile (i-- > index) {\n\t\t\tconst baritem = this.getBarItem(i);\n\t\t\tif (!this.isBarItemDisabled(findDOMNode(baritem))) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tgetBarItemsCount() {\n\t\treturn this.props.children && this.props.children[0] ? React.Children.count(this.props.children[0].props.children) : 0;\n\t}\n\n\tgetPaneItemsCount() {\n\t\treturn this.props.children && this.props.children[1] ? React.Children.count(this.props.children[0].props.children) : 0;\n\t}\n\n\tgetTabBar() {\n\t\treturn this.refs.tabbar;\n\t}\n\n\tgetBarItem(index) {\n\t\treturn this.refs['tab-bar-item--' + index];\n\t}\n\n\tgetTabPane() {\n\t\treturn this.refs.tabpane;\n\t}\n\n\tgetPaneItem(index) {\n\t\treturn this.refs['tab-pane-item--' + index];\n\t}\n\n\trenderControl() {\n\t\treturn (\n\t\t\t<div className=\"tab-control\">\n\t\t\t\t<Button size=\"tiny\" kind=\"hollow\"  onClick={this.handlePrevClick} role=\"tabcontrol\"><Icon name=\"chevronLeft\" /></Button>\n\t\t\t\t<Button size=\"tiny\" kind=\"hollow\"  onClick={this.handleNextClick} role=\"tabcontrol\"><Icon name=\"chevronRight\" /></Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderChildren() {\n\t\tlet index = 0;\n\t\tlet count = 0;\n\t\tconst children = this.props.children;\n\t\tconst state = this.state;\n\t\tconst barIds = this.barIds = this.barIds || [];\n\t\tconst paneIds = this.paneIds = this.paneIds || [];\n\t\tlet diff = this.barIds.length - this.paneIds.length;\n\n\t\twhile (diff++ < 0) {\n\t\t\tbarIds.push(uuid());\n\t\t\tpaneIds.push(uuid());\n\t\t}\n\n\t\treturn React.Children.map(children, (child) => {\n\t\t\tif (child === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet result = null;\n\n\t\t\tif (count++ === 0) {\n\t\t\t\tresult = cloneElement(child, {\n\t\t\t\t\tref: 'tabbar',\n\t\t\t\t\tchildren: React.Children.map(child.props.children, (baritem) => {\n\t\t\t\t\t\tif (baritem === null) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst ref = 'tab-bar-item--' + index;\n\t\t\t\t\t\tconst id = barIds[index];\n\t\t\t\t\t\tconst paneId = paneIds[index];\n\t\t\t\t\t\tlet selected = state.defaultSelected === index;\n\t\t\t\t\t\tlet focused = selected && state.focused;\n\n\t\t\t\t\t\tindex++;\n\n\t\t\t\t\t\treturn cloneElement(baritem, {\n\t\t\t\t\t\t\tref,\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tpaneId,\n\t\t\t\t\t\t\tselected,\n\t\t\t\t\t\t\tfocused,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tindex = 0;\n\t\t\t} else {\n\t\t\t\tresult = cloneElement(child, {\n\t\t\t\t\tref: 'tabpane',\n\t\t\t\t\tchildren: React.Children.map(child.props.children, (paneitem) => {\n\t\t\t\t\t\tif (paneitem === null) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst ref = 'tab-pane-item--' + index;\n\t\t\t\t\t\tconst id = paneIds[index];\n\t\t\t\t\t\tconst barId = barIds[index];\n\t\t\t\t\t\tconst selected = state.defaultSelected === index;\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\treturn cloneElement(paneitem, {\n\t\t\t\t\t\t\tref,\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tbarId,\n\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\trender() {\n\t\tconst props = this.props;\n\n\t\tconst {\n\t\t\tadvanced,\n\t\t\tskin,\n\t\t\tclassName,\n\t\t\t...others\n\t\t} = props;\n\n\t\tconst klassName = KlassName('tab', {\n\t\t\t['advanced']:advanced,\n\t\t\t['tab--' + skin]:skin\n\t\t},className);\n\n\t\tif (this.state.focused) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState.focused = false;\n\t\t\t}, 0);\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...others}\n\t\t\t\tclassName={klassName}\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t{advanced ? this.renderControl() : null}\n\t\t\t\t{this.renderChildren()}\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst noop = () => {};\n\nlet count = 0;\nfunction uuid() {\n\treturn 'tab-' + count++;\n};\n\nfunction affirmChildrenPropTypes(props, propName) {\n\tlet error;\n\tlet barsCount = 0;\n\tlet panesCount = 0;\n\tconst children = props[propName];\n\n\tReact.Children.forEach(children, (child) => {\n\t\tif (child === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (child.type === TabBar) {\n\t\t\tReact.Children.forEach(child.props.children, (c) => {\n\t\t\t\tif (c === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (c.type === TabBarItem) {\n\t\t\t\t\tbarsCount++;\n\t\t\t\t} else {\n\t\t\t\t\terror = new Error(\n\t\t\t\t\t\t'Expected `TabBarItem` not found `' + (c.type.displayName || c.type) + '`'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (child.type === TabPane) {\n\t\t\tReact.Children.forEach(child.props.children, (c) => {\n\t\t\t\tif (c === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (c.type === TabPaneItem) {\n\t\t\t\t\tpanesCount++;\n\t\t\t\t} else {\n\t\t\t\t\terror = new Error(\n\t\t\t\t\t\t'Expected `TabPaneItem` not found `' + (c.type.displayName || c.type) + '`'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\terror = new Error(\n\t\t\t\t'Expected `TabBar` or `TabPane` not found `' + (child.type.displayName || child.type) + '`'\n\t\t\t);\n\t\t}\n\t});\n\n\tif (barsCount !== panesCount) {\n\t\terror = new Error(\n\t\t\t'There should be an equal number of `TabBarItems` and `TabPaneItems`. ' +\n\t\t\t'Received ' + barsCount + ' `TabBarItems` and ' + panesCount + ' `TabPaneItems`.'\n\t\t);\n\t}\n\n\treturn error;\n};\n\nTab.propTypes = {\n\tadvanced: PropTypes.bool,\n\tfocused: PropTypes.bool,\n\tforceRenderPaneItem: PropTypes.bool,\n\tskin: PropTypes.oneOf(SKINS),\n\tdefaultSelected: PropTypes.number,\n\tclassName: PropTypes.string,\n\tchildren: affirmChildrenPropTypes,\n\n\tonSelect: PropTypes.func\n};\n\nTab.childContextTypes = {\n\tforceRenderPaneItem: PropTypes.bool\n};\n\nTab.defaultProps = {\n\tadvanced: false,\n\tfocused: false,\n\tforceRenderPaneItem: false,\n\tdefaultSelected: -1,\n\tonSelect: noop\n};\n\nexport default Tab;"]}