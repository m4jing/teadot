{"version":3,"sources":["../../source/javascript/helper/AnimationEvents.js"],"names":[],"mappings":";;;;;kBAsBwB;AAtBxB,IAAM,iBAAiB;AACb,iBAAoB,cAApB;AACD,kBAAoB,eAApB;AACD,mBAAoB,gBAApB;AACD,oBAAoB,iBAApB;AACH,uBAAoB,oBAApB;CALE;;AAQN,IAAM,YAAY,EAAZ;AACN,IAAM,YAAY,SAAS,aAAT,CAAuB,KAAvB,EAA8B,KAA9B;;AAElB,IAAI,EAAE,oBAAoB,MAApB,CAAF,EAA+B;AAC/B,WAAO,eAAe,SAAf,CADwB;CAAnC;;AAIA,KAAK,IAAI,SAAJ,IAAiB,cAAtB,EAAsC;AAClC,QAAI,aAAa,SAAb,EAAwB;AACxB,kBAAU,IAAV,CAAe,eAAe,SAAf,CAAf,EADwB;AAExB,cAFwB;KAA5B;CADJ;;AAOe,SAAS,mBAAT,CAA6B,IAA7B,EAAmC,aAAnC,EAAkD;AAC7D,QAAI,UAAU,MAAV,KAAqB,CAArB,EAAwB;AACxB,eAAO,UAAP,CAAkB,aAAlB,EAAiC,CAAjC,EADwB;AAExB,eAFwB;KAA5B;;AAKA,cAAU,OAAV,CAAkB,UAAC,KAAD,EAAW;AACzB,aAAK,gBAAL,CAAsB,KAAtB,EAA6B,aAA7B,EAA4C,KAA5C,EADyB;KAAX,CAAlB,CAN6D;;AAU7D,WAAO;AACH,kCAAS;AACL,sBAAU,OAAV,CAAkB,UAAC,KAAD,EAAW;AACzB,qBAAK,mBAAL,CAAyB,KAAzB,EAAgC,aAAhC,EAA+C,KAA/C,EADyB;aAAX,CAAlB,CADK;SADN;KAAP,CAV6D;CAAlD","file":"AnimationEvents.js","sourcesContent":["const EVENT_NAME_MAP = {\n          'animation' :       'animationend',\n         'OAnimation' :      'oAnimationEnd',\n        'msAnimation' :     'MSAnimationEnd',\n       'MozAnimation' :    'mozAnimationEnd',\n    'WebkitAnimation' : 'webkitAnimationEnd'\n};\n\nconst endEvents = [];\nconst testStyle = document.createElement('div').style;\n\nif (!('AnimationEvent' in window)) {\n    delete EVENT_NAME_MAP.animation;\n}\n\nfor (let styleName in EVENT_NAME_MAP) {\n    if (styleName in testStyle) {\n        endEvents.push(EVENT_NAME_MAP[styleName]);\n        break;\n    }\n}\n\nexport default function addEndEventListener(node, eventListener) {\n    if (endEvents.length === 0) {\n        window.setTimeout(eventListener, 0);\n        return;\n    }\n\n    endEvents.forEach((event) => {\n        node.addEventListener(event, eventListener, false);\n    });\n\n    return {\n        remove() {\n            endEvents.forEach((event) => {\n                node.removeEventListener(event, eventListener, false);\n            });\n        }\n    };\n};"]}